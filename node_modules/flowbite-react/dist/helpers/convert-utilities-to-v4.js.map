{"version":3,"file":"convert-utilities-to-v4.js","sources":["../../src/helpers/convert-utilities-to-v4.ts"],"sourcesContent":["const cache = new Map<string, string>();\n\n/**\n * Converts Tailwind CSS v3 utility classes to v4.\n *\n * @param {string} classNames - The string of class names to convert\n * @returns {string} The converted class names string\n */\nexport function convertUtilitiesToV4(classNames: string): string {\n  if (!classNames.trim().length) {\n    return classNames;\n  }\n\n  const cacheKey = classNames;\n  const cacheValue = cache.get(cacheKey);\n\n  if (cacheValue) {\n    return cacheValue;\n  }\n\n  const parts = classNames.split(/(\\s+)/);\n  const result = parts\n    .map((part) => {\n      if (/^\\s+$/.test(part)) {\n        return part;\n      }\n\n      const processed = part;\n      const modifierMatch = processed.match(/^([^:]+:)?(.+)$/);\n\n      if (modifierMatch) {\n        const [, modifier = \"\", baseClass] = modifierMatch;\n\n        for (const [regex, replacement] of regexMap) {\n          if (regex.test(baseClass)) {\n            return modifier + baseClass.replace(regex, replacement);\n          }\n        }\n      }\n\n      return processed;\n    })\n    .join(\"\");\n\n  cache.set(cacheKey, result);\n\n  return result;\n}\n\n/**\n| v3             | v4             |\n| -------------- | -------------- |\n| shadow-sm      | shadow-xs      |\n| shadow         | shadow-sm      |\n| drop-shadow-sm | drop-shadow-xs |\n| drop-shadow    | drop-shadow-sm |\n| blur-sm        | blur-xs        |\n| blur           | blur-sm        |\n| rounded-sm     | rounded-xs     |\n| rounded        | rounded-sm     |\n| outline-none   | outline-hidden |\n| ring           | ring-3         |\n */\nconst regexMap = [\n  [/^shadow-sm$/, \"shadow-xs\"],\n  [/^shadow$/, \"shadow-sm\"],\n  [/^drop-shadow-sm$/, \"drop-shadow-xs\"],\n  [/^drop-shadow$/, \"drop-shadow-sm\"],\n  [/^blur-sm$/, \"blur-xs\"],\n  [/^blur$/, \"blur-sm\"],\n  [/^rounded-sm$/, \"rounded-xs\"],\n  [/^rounded$/, \"rounded-sm\"],\n  // TODO: revisit this - it breaks anything focused using tab\n  // [/^outline-none$/, \"outline-hidden\"],\n  [/^ring$/, \"ring-3\"],\n] as const;\n"],"names":[],"mappings":"AACA,MAAM,KAAK,mBAAmB,IAAI,GAAG,EAAE;AAChC,SAAS,oBAAoB,CAAC,UAAU,EAAE;AACjD,EAAE,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC,MAAM,EAAE;AACjC,IAAI,OAAO,UAAU;AACrB;AACA,EAAE,MAAM,QAAQ,GAAG,UAAU;AAC7B,EAAE,MAAM,UAAU,GAAG,KAAK,CAAC,GAAG,CAAC,QAAQ,CAAC;AACxC,EAAE,IAAI,UAAU,EAAE;AAClB,IAAI,OAAO,UAAU;AACrB;AACA,EAAE,MAAM,KAAK,GAAG,UAAU,CAAC,KAAK,CAAC,OAAO,CAAC;AACzC,EAAE,MAAM,MAAM,GAAG,KAAK,CAAC,GAAG,CAAC,CAAC,IAAI,KAAK;AACrC,IAAI,IAAI,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE;AAC5B,MAAM,OAAO,IAAI;AACjB;AACA,IAAI,MAAM,SAAS,GAAG,IAAI;AAC1B,IAAI,MAAM,aAAa,GAAG,SAAS,CAAC,KAAK,CAAC,iBAAiB,CAAC;AAC5D,IAAI,IAAI,aAAa,EAAE;AACvB,MAAM,MAAM,GAAG,QAAQ,GAAG,EAAE,EAAE,SAAS,CAAC,GAAG,aAAa;AACxD,MAAM,KAAK,MAAM,CAAC,KAAK,EAAE,WAAW,CAAC,IAAI,QAAQ,EAAE;AACnD,QAAQ,IAAI,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,EAAE;AACnC,UAAU,OAAO,QAAQ,GAAG,SAAS,CAAC,OAAO,CAAC,KAAK,EAAE,WAAW,CAAC;AACjE;AACA;AACA;AACA,IAAI,OAAO,SAAS;AACpB,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC;AACb,EAAE,KAAK,CAAC,GAAG,CAAC,QAAQ,EAAE,MAAM,CAAC;AAC7B,EAAE,OAAO,MAAM;AACf;AACA,MAAM,QAAQ,GAAG;AACjB,EAAE,CAAC,aAAa,EAAE,WAAW,CAAC;AAC9B,EAAE,CAAC,UAAU,EAAE,WAAW,CAAC;AAC3B,EAAE,CAAC,kBAAkB,EAAE,gBAAgB,CAAC;AACxC,EAAE,CAAC,eAAe,EAAE,gBAAgB,CAAC;AACrC,EAAE,CAAC,WAAW,EAAE,SAAS,CAAC;AAC1B,EAAE,CAAC,QAAQ,EAAE,SAAS,CAAC;AACvB,EAAE,CAAC,cAAc,EAAE,YAAY,CAAC;AAChC,EAAE,CAAC,WAAW,EAAE,YAAY,CAAC;AAC7B;AACA;AACA,EAAE,CAAC,QAAQ,EAAE,QAAQ;AACrB,CAAC;;;;"}