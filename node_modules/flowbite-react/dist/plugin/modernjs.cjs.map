{"version":3,"file":"modernjs.cjs","sources":["../../src/plugin/modernjs.ts"],"sourcesContent":["import type { AppTools, CliPlugin } from \"@modern-js/app-tools\";\nimport { build } from \"../cli/commands/build\";\nimport { dev } from \"../cli/commands/dev\";\nimport { pluginName } from \"./index\";\n\nexport default (): CliPlugin<AppTools> => ({\n  name: pluginName,\n  setup() {\n    return {\n      async beforeBuild() {\n        await build();\n      },\n      async beforeDev() {\n        await build();\n        await dev();\n      },\n    };\n  },\n});\n"],"names":["pluginName","build","dev"],"mappings":";;;;;;AAIA,eAAe,OAAO;AACtB,EAAE,IAAI,EAAEA,gBAAU;AAClB,EAAE,KAAK,GAAG;AACV,IAAI,OAAO;AACX,MAAM,MAAM,WAAW,GAAG;AAC1B,QAAQ,MAAMC,WAAK,EAAE;AACrB,OAAO;AACP,MAAM,MAAM,SAAS,GAAG;AACxB,QAAQ,MAAMA,WAAK,EAAE;AACrB,QAAQ,MAAMC,OAAG,EAAE;AACnB;AACA,KAAK;AACL;AACA,CAAC,CAAC;;;;"}