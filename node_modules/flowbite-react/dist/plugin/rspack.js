import * as __WEBPACK_EXTERNAL_MODULE__cli_commands_build_a3a2204a__ from "../cli/commands/build";
import * as __WEBPACK_EXTERNAL_MODULE__cli_commands_dev_c99d88a2__ from "../cli/commands/dev";
import * as __WEBPACK_EXTERNAL_MODULE__index_js_fb10b2a7__ from "./index.js";
const rspack_rslib_entry_ = ()=>({
        name: __WEBPACK_EXTERNAL_MODULE__index_js_fb10b2a7__.pluginName,
        apply (compiler) {
            let devServerStarted = false;
            compiler.hooks.beforeCompile.tapPromise(__WEBPACK_EXTERNAL_MODULE__index_js_fb10b2a7__.pluginName, async ()=>{
                const isDev = "development" === compiler.options.mode;
                const isBuild = "production" === compiler.options.mode;
                if (isBuild) await (0, __WEBPACK_EXTERNAL_MODULE__cli_commands_build_a3a2204a__.build)();
                else if (isDev && !devServerStarted) {
                    devServerStarted = true;
                    await (0, __WEBPACK_EXTERNAL_MODULE__cli_commands_build_a3a2204a__.build)();
                    await (0, __WEBPACK_EXTERNAL_MODULE__cli_commands_dev_c99d88a2__.dev)();
                }
            });
        }
    });
export { rspack_rslib_entry_ as default };

//# sourceMappingURL=rspack.js.map