{"version":3,"file":"nextjs.cjs","sources":["../../src/plugin/nextjs.ts"],"sourcesContent":["import type { NextConfig } from \"next\";\nimport { build } from \"../cli/commands/build\";\nimport { dev } from \"../cli/commands/dev\";\n\ninterface ConfigurationOptions {\n  defaultConfig: NextConfig;\n}\n\ntype ConfigurationCallback = (phase: string, options: ConfigurationOptions) => NextConfig | Promise<NextConfig>;\n\nexport default function withFlowbiteReact(\n  nextConfig: NextConfig | ConfigurationCallback = {},\n): NextConfig | ConfigurationCallback {\n  if (process.env.NODE_ENV === \"development\") {\n    dev();\n  }\n  if (process.env.NODE_ENV === \"production\") {\n    build();\n  }\n\n  if (typeof nextConfig === \"function\") {\n    return async (phase: string, options: ConfigurationOptions) => {\n      const originalConfig = await nextConfig(phase, options);\n      return patchConfig(originalConfig);\n    };\n  }\n\n  return patchConfig(nextConfig);\n}\n\nfunction patchConfig(config: NextConfig): NextConfig {\n  const experimental = config.experimental || {};\n  const optimizePackageImports = experimental.optimizePackageImports || [];\n\n  return {\n    ...config,\n    experimental: {\n      ...experimental,\n      optimizePackageImports: [...optimizePackageImports, \"flowbite-react\"],\n    },\n  };\n}\n"],"names":["dev","build"],"mappings":";;;;;AAGe,SAAS,iBAAiB,CAAC,UAAU,GAAG,EAAE,EAAE;AAC3D,EAAE,IAAI,OAAO,CAAC,GAAG,CAAC,QAAQ,KAAK,aAAa,EAAE;AAC9C,IAAIA,OAAG,EAAE;AACT;AACA,EAAE,IAAI,OAAO,CAAC,GAAG,CAAC,QAAQ,KAAK,YAAY,EAAE;AAC7C,IAAIC,WAAK,EAAE;AACX;AACA,EAAE,IAAI,OAAO,UAAU,KAAK,UAAU,EAAE;AACxC,IAAI,OAAO,OAAO,KAAK,EAAE,OAAO,KAAK;AACrC,MAAM,MAAM,cAAc,GAAG,MAAM,UAAU,CAAC,KAAK,EAAE,OAAO,CAAC;AAC7D,MAAM,OAAO,WAAW,CAAC,cAAc,CAAC;AACxC,KAAK;AACL;AACA,EAAE,OAAO,WAAW,CAAC,UAAU,CAAC;AAChC;AACA,SAAS,WAAW,CAAC,MAAM,EAAE;AAC7B,EAAE,MAAM,YAAY,GAAG,MAAM,CAAC,YAAY,IAAI,EAAE;AAChD,EAAE,MAAM,sBAAsB,GAAG,YAAY,CAAC,sBAAsB,IAAI,EAAE;AAC1E,EAAE,OAAO;AACT,IAAI,GAAG,MAAM;AACb,IAAI,YAAY,EAAE;AAClB,MAAM,GAAG,YAAY;AACrB,MAAM,sBAAsB,EAAE,CAAC,GAAG,sBAAsB,EAAE,gBAAgB;AAC1E;AACA,GAAG;AACH;;;;"}