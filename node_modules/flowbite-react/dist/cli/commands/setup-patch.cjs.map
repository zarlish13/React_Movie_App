{"version":3,"file":"setup-patch.cjs","sources":["../../../src/cli/commands/setup-patch.ts"],"sourcesContent":["import fs from \"fs/promises\";\nimport cjson from \"comment-json\";\nimport { packageJsonFile } from \"../consts\";\nimport { getPackageJson } from \"../utils/get-package-json\";\n\nexport async function setupPatch() {\n  try {\n    const patchCommand = \"flowbite-react patch\";\n    const packageJson = await getPackageJson();\n\n    if (!packageJson.scripts) {\n      packageJson.scripts = {};\n    }\n\n    if (!packageJson.scripts.postinstall?.includes(patchCommand)) {\n      console.log(`Adding postinstall patch script to ${packageJsonFile}...`);\n      if (packageJson.scripts.postinstall) {\n        packageJson.scripts.postinstall += ` && ${patchCommand}`;\n      } else {\n        packageJson.scripts.postinstall = patchCommand;\n      }\n      await fs.writeFile(packageJsonFile, cjson.stringify(packageJson, null, 2), { flag: \"w\" });\n    }\n  } catch (error) {\n    console.error(`Failed to setup ${packageJsonFile}:`, error);\n  }\n}\n"],"names":["getPackageJson","packageJsonFile"],"mappings":";;;;;;;AAKO,eAAe,UAAU,GAAG;AACnC,EAAE,IAAI;AACN,IAAI,MAAM,YAAY,GAAG,sBAAsB;AAC/C,IAAI,MAAM,WAAW,GAAG,MAAMA,6BAAc,EAAE;AAC9C,IAAI,IAAI,CAAC,WAAW,CAAC,OAAO,EAAE;AAC9B,MAAM,WAAW,CAAC,OAAO,GAAG,EAAE;AAC9B;AACA,IAAI,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,WAAW,EAAE,QAAQ,CAAC,YAAY,CAAC,EAAE;AAClE,MAAM,OAAO,CAAC,GAAG,CAAC,CAAC,mCAAmC,EAAEC,sBAAe,CAAC,GAAG,CAAC,CAAC;AAC7E,MAAM,IAAI,WAAW,CAAC,OAAO,CAAC,WAAW,EAAE;AAC3C,QAAQ,WAAW,CAAC,OAAO,CAAC,WAAW,IAAI,CAAC,IAAI,EAAE,YAAY,CAAC,CAAC;AAChE,OAAO,MAAM;AACb,QAAQ,WAAW,CAAC,OAAO,CAAC,WAAW,GAAG,YAAY;AACtD;AACA,MAAM,MAAM,EAAE,CAAC,SAAS,CAACA,sBAAe,EAAE,KAAK,CAAC,SAAS,CAAC,WAAW,EAAE,IAAI,EAAE,CAAC,CAAC,EAAE,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC;AAC/F;AACA,GAAG,CAAC,OAAO,KAAK,EAAE;AAClB,IAAI,OAAO,CAAC,KAAK,CAAC,CAAC,gBAAgB,EAAEA,sBAAe,CAAC,CAAC,CAAC,EAAE,KAAK,CAAC;AAC/D;AACA;;;;"}